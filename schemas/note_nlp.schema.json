{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Note Nlp",
  "type": "object",
  "properties": {
    "note_nlp_id": {
      "type": "integer",
      "description": "User Guidance: A unique identifier for the NLP record."
    },
    "note_id": {
      "type": "integer",
      "description": "User Guidance: This is the NOTE_ID for the NOTE record the NLP record is associated to."
    },
    "section_concept_id": {
      "type": "integer",
      "description": "ETL Conventions: The SECTION_CONCEPT_ID should be used to represent the note section contained in the NOTE_NLP record. These concepts can be found as parts of document panels and are based on the type of note written, i.e. a discharge summary. These panels can be found as concepts with the relationship 'Subsumes' to CONCEPT_ID [45875957](https://athena.ohdsi.org/search-terms/terms/45875957)."
    },
    "snippet": {
      "type": "string",
      "maxLength": 250,
      "description": "User Guidance: A small window of text surrounding the term"
    },
    "\"offset\"": {
      "type": "string",
      "maxLength": 50,
      "description": "User Guidance: Character offset of the extracted term in the input note"
    },
    "lexical_variant": {
      "type": "string",
      "maxLength": 250,
      "description": "User Guidance: Raw text extracted from the NLP tool."
    },
    "note_nlp_concept_id": {
      "type": "integer"
    },
    "note_nlp_source_concept_id": {
      "type": "integer"
    },
    "nlp_system": {
      "type": "string",
      "maxLength": 250,
      "description": "ETL Conventions: Name and version of the NLP system that extracted the term. Useful for data provenance."
    },
    "nlp_date": {
      "type": "string",
      "format": "date",
      "description": "User Guidance: The date of the note processing."
    },
    "nlp_datetime": {
      "type": "string",
      "format": "date-time",
      "description": "User Guidance: The date and time of the note processing."
    },
    "term_exists": {
      "type": "string",
      "maxLength": 1,
      "description": "ETL Conventions: Term_exists is defined as a flag that indicates if the patient actually has or had the condition. Any of the following modifiers would make Term_exists false:\nNegation = true\nSubject = [anything other than the patient]\nConditional = true/li>\nRule_out = true\nUncertain = very low certainty or any lower certainties\nA complete lack of modifiers would make Term_exists true."
    },
    "term_temporal": {
      "type": "string",
      "maxLength": 50,
      "description": "ETL Conventions: Term_temporal is to indicate if a condition is present or just in the past. The following would be past:<br><br>\n- History = true\n- Concept_date = anything before the time of the report"
    },
    "term_modifiers": {
      "type": "string",
      "maxLength": 2000,
      "description": "ETL Conventions: For the modifiers that are there, they would have to have these values:<br><br>\n- Negation = false\n- Subject = patient\n- Conditional = false\n- Rule_out = false\n- Uncertain = true or high or moderate or even low (could argue about low). Term_modifiers will concatenate all modifiers for different types of entities (conditions, drugs, labs etc) into one string. Lab values will be saved as one of the modifiers."
    }
  },
  "required": [
    "note_nlp_id",
    "note_id",
    "lexical_variant",
    "nlp_date"
  ],
  "x-primaryKey": [
    "note_nlp_id"
  ],
  "x-foreignKeys": [
    {
      "field": "section_concept_id",
      "table": "CONCEPT",
      "fieldInTable": "CONCEPT_ID"
    },
    {
      "field": "note_nlp_concept_id",
      "table": "CONCEPT",
      "fieldInTable": "CONCEPT_ID"
    },
    {
      "field": "note_nlp_source_concept_id",
      "table": "CONCEPT",
      "fieldInTable": "CONCEPT_ID"
    }
  ]
}