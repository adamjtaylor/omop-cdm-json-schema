{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Observation Period",
  "type": "object",
  "properties": {
    "observation_period_id": {
      "type": "integer",
      "description": "User Guidance: A Person can have multiple discrete Observation Periods which are identified by the Observation_Period_Id.\n\nETL Conventions: Assign a unique observation_period_id to each discrete Observation Period for a Person."
    },
    "person_id": {
      "type": "integer",
      "description": "User Guidance: The Person ID of the PERSON record for which the Observation Period is recorded."
    },
    "observation_period_start_date": {
      "type": "string",
      "format": "date",
      "description": "User Guidance: Use this date to determine the start date of the Observation Period.\n\nETL Conventions: It is often the case that the idea of Observation Periods does not exist in source data. In those cases, the observation_period_start_date can be inferred as the earliest Event date available for the Person. In insurance claim data, the Observation Period can be considered as the time period the Person is enrolled with a payer. If a Person switches plans but stays with the same payer, and therefore capturing of data continues, that change would be captured in [PAYER_PLAN_PERIOD](https://ohdsi.github.io/CommonDataModel/cdm54.html#payer_plan_period)."
    },
    "observation_period_end_date": {
      "type": "string",
      "format": "date",
      "description": "User Guidance: Use this date to determine the end date of the period for which we can assume that all events for a Person are recorded.\n\nETL Conventions: It is often the case that the idea of Observation Periods does not exist in source data. In those cases, the observation_period_end_date can be inferred as the last Event date available for the Person. In insurance claim data, the Observation Period can be considered as the time period the Person is enrolled with a payer."
    },
    "period_type_concept_id": {
      "type": "integer",
      "description": "User Guidance: This field can be used to determine the provenance of the Observation Period as in whether the period was determined from an insurance enrollment file, EHR healthcare encounters, or other sources.\n\nETL Conventions: Choose the observation_period_type_concept_id that best represents how the period was determined. [Accepted Concepts](https://athena.ohdsi.org/search-terms/terms?domain=Type+Concept&standardConcept=Standard&page=1&pageSize=15&query=). A more detailed explanation of each Type Concept can be found on the [vocabulary wiki](https://github.com/OHDSI/Vocabulary-v5.0/wiki/Vocab.-TYPE_CONCEPT).",
      "oneOf": [
        {
          "const": 0,
          "title": "0 - No matching concept"
        },
        {
          "const": 32809,
          "title": "32809 - Case Report Form"
        },
        {
          "const": 32810,
          "title": "32810 - Claim"
        },
        {
          "const": 32811,
          "title": "32811 - Claim authorization"
        },
        {
          "const": 32812,
          "title": "32812 - Claim discharge record"
        },
        {
          "const": 32813,
          "title": "32813 - Claim enrolment record"
        },
        {
          "const": 32814,
          "title": "32814 - Cost record"
        },
        {
          "const": 32815,
          "title": "32815 - Death Certificate"
        },
        {
          "const": 32816,
          "title": "32816 - Dental claim"
        },
        {
          "const": 32817,
          "title": "32817 - EHR"
        },
        {
          "const": 32818,
          "title": "32818 - EHR administration record"
        },
        {
          "const": 32819,
          "title": "32819 - EHR admission note"
        },
        {
          "const": 32820,
          "title": "32820 - EHR ancillary report"
        },
        {
          "const": 32821,
          "title": "32821 - EHR billing record"
        },
        {
          "const": 32822,
          "title": "32822 - EHR chief complaint"
        },
        {
          "const": 32823,
          "title": "32823 - EHR discharge record"
        },
        {
          "const": 32824,
          "title": "32824 - EHR discharge summary"
        },
        {
          "const": 32825,
          "title": "32825 - EHR dispensing record"
        },
        {
          "const": 32826,
          "title": "32826 - EHR emergency room note"
        },
        {
          "const": 32827,
          "title": "32827 - EHR encounter record"
        },
        {
          "const": 32828,
          "title": "32828 - EHR episode record"
        },
        {
          "const": 32829,
          "title": "32829 - EHR inpatient note"
        },
        {
          "const": 32830,
          "title": "32830 - EHR medication list"
        },
        {
          "const": 32831,
          "title": "32831 - EHR note"
        },
        {
          "const": 32832,
          "title": "32832 - EHR nursing report"
        },
        {
          "const": 32833,
          "title": "32833 - EHR order"
        },
        {
          "const": 32834,
          "title": "32834 - EHR outpatient note"
        },
        {
          "const": 32835,
          "title": "32835 - EHR Pathology report"
        },
        {
          "const": 32836,
          "title": "32836 - EHR physical examination"
        },
        {
          "const": 32837,
          "title": "32837 - EHR planned dispensing record"
        },
        {
          "const": 32838,
          "title": "32838 - EHR prescription"
        },
        {
          "const": 32839,
          "title": "32839 - EHR prescription issue record"
        },
        {
          "const": 32840,
          "title": "32840 - EHR problem list"
        },
        {
          "const": 32841,
          "title": "32841 - EHR radiology report"
        },
        {
          "const": 32842,
          "title": "32842 - EHR referral record"
        },
        {
          "const": 32843,
          "title": "32843 - External CDM instance"
        },
        {
          "const": 32844,
          "title": "32844 - Facility claim"
        },
        {
          "const": 32845,
          "title": "32845 - Facility claim detail"
        },
        {
          "const": 32846,
          "title": "32846 - Facility claim header"
        },
        {
          "const": 32847,
          "title": "32847 - Geographic isolation record"
        },
        {
          "const": 32848,
          "title": "32848 - Government report"
        },
        {
          "const": 32849,
          "title": "32849 - Health Information Exchange record"
        },
        {
          "const": 32850,
          "title": "32850 - Health Risk Assessment"
        },
        {
          "const": 32851,
          "title": "32851 - Healthcare professional filled survey"
        },
        {
          "const": 32852,
          "title": "32852 - Hospital cost"
        },
        {
          "const": 32853,
          "title": "32853 - Inpatient claim"
        },
        {
          "const": 32854,
          "title": "32854 - Inpatient claim detail"
        },
        {
          "const": 32855,
          "title": "32855 - Inpatient claim header"
        },
        {
          "const": 32856,
          "title": "32856 - Lab"
        },
        {
          "const": 32857,
          "title": "32857 - Mail order record"
        },
        {
          "const": 32858,
          "title": "32858 - NLP"
        },
        {
          "const": 32859,
          "title": "32859 - Outpatient claim"
        },
        {
          "const": 32860,
          "title": "32860 - Outpatient claim detail"
        },
        {
          "const": 32861,
          "title": "32861 - Outpatient claim header"
        },
        {
          "const": 32862,
          "title": "32862 - Patient filled survey"
        },
        {
          "const": 32863,
          "title": "32863 - Patient or payer paid record"
        },
        {
          "const": 32864,
          "title": "32864 - Patient reported cost"
        },
        {
          "const": 32865,
          "title": "32865 - Patient self-report"
        },
        {
          "const": 32866,
          "title": "32866 - Payer system record (paid premium)"
        },
        {
          "const": 32867,
          "title": "32867 - Payer system record (primary payer)"
        },
        {
          "const": 32868,
          "title": "32868 - Payer system record (secondary payer)"
        },
        {
          "const": 32869,
          "title": "32869 - Pharmacy claim"
        },
        {
          "const": 32870,
          "title": "32870 - Pre-qualification time period"
        },
        {
          "const": 32871,
          "title": "32871 - Professional claim"
        },
        {
          "const": 32872,
          "title": "32872 - Professional claim detail"
        },
        {
          "const": 32873,
          "title": "32873 - Professional claim header"
        },
        {
          "const": 32874,
          "title": "32874 - Provider charge list price"
        },
        {
          "const": 32875,
          "title": "32875 - Provider financial system"
        },
        {
          "const": 32876,
          "title": "32876 - Provider incurred cost record"
        },
        {
          "const": 32877,
          "title": "32877 - Randomization record"
        },
        {
          "const": 32878,
          "title": "32878 - Reference lab"
        },
        {
          "const": 32879,
          "title": "32879 - Registry"
        },
        {
          "const": 32880,
          "title": "32880 - Standard algorithm"
        },
        {
          "const": 32881,
          "title": "32881 - Standard algorithm from claims"
        },
        {
          "const": 32882,
          "title": "32882 - Standard algorithm from EHR"
        },
        {
          "const": 32883,
          "title": "32883 - Survey"
        },
        {
          "const": 32884,
          "title": "32884 - Urgent lab"
        },
        {
          "const": 32885,
          "title": "32885 - US Social Security Death Master File"
        },
        {
          "const": 32886,
          "title": "32886 - Vision claim"
        },
        {
          "const": 703249,
          "title": "703249 - Point of care/express lab"
        },
        {
          "const": 705183,
          "title": "705183 - Patient self-tested"
        }
      ]
    }
  },
  "required": [
    "observation_period_id",
    "person_id",
    "observation_period_start_date",
    "observation_period_end_date",
    "period_type_concept_id"
  ],
  "x-primaryKey": [
    "observation_period_id"
  ],
  "x-foreignKeys": [
    {
      "field": "person_id",
      "table": "PERSON",
      "fieldInTable": "PERSON_ID"
    },
    {
      "field": "period_type_concept_id",
      "table": "CONCEPT",
      "fieldInTable": "CONCEPT_ID",
      "domain": "Type Concept"
    }
  ]
}